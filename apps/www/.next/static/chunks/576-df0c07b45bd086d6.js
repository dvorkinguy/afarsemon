"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[576],{63:(e,a,r)=>{r.d(a,{E:()=>i});var t=r(1240),s=r(7270);function i(e){let{className:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"skeleton",className:(0,s.cn)("bg-accent animate-pulse rounded-md",a),...r})}},2576:(e,a,r)=>{r.d(a,{UserProfile:()=>k});var t=r(1240),s=r(7332),i=r(7629),n=r(7334),o=r(2985),d=r(63),l=r(7369),c=r(8842),u=r(7685),m=r.n(u),v=r(3222),p=r(3882),x=r(3036),g=r(4429),h=r(3017),f=r(9634),b=r(8716),y=r(5066),j=r(3748),N=r(6274),w=r(7270);let k=s.memo(function(){var e,a,r,u,k,L,_,z,C,A;let{data:E,isPending:B}=(0,i.wV)(),R=(0,v.useRouter)(),[F,V]=(0,s.useTransition)(),[q,U]=(0,s.useState)({isLoading:!1,canRetry:!1}),$=(0,s.useCallback)(async()=>{V(async()=>{try{U({isLoading:!0,canRetry:!1}),await (0,i.CI)(),R.replace("/")}catch(a){console.error("Sign out error:",a);let e=a instanceof Error?a.message:"שגיאה לא צפויה";U({isLoading:!1,error:"שגיאה בהתנתקות: ".concat(e),canRetry:!0})}})},[R,V]),I=(0,s.useCallback)(()=>{U({isLoading:!1,canRetry:!1}),$()},[$]);if(B)return(0,t.jsxs)("div",{className:"flex items-center gap-3",role:"status","aria-label":"טוען פרופיל משתמש",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.E,{className:"h-10 w-10 rounded-full"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-primary/20 border-t-primary/50 animate-spin","aria-hidden":"true"})]}),(0,t.jsxs)("div",{className:"hidden md:block space-y-2",children:[(0,t.jsx)(d.E,{className:"h-3 w-24 animate-pulse"}),(0,t.jsx)(d.E,{className:"h-2 w-20 animate-pulse",style:{animationDelay:"0.2s"}})]}),(0,t.jsx)("div",{className:"sr-only","aria-live":"polite",children:"טוען פרטי משתמש..."})]});if(!E)return(0,t.jsx)(m(),{href:"/auth",children:(0,t.jsxs)(o.$,{className:"group relative overflow-hidden transition-all duration-200 hover:scale-105","aria-label":"התחברות לחשבון",children:[(0,t.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4","aria-hidden":"true"}),"התחברות"]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/80 to-primary opacity-0 group-hover:opacity-100 transition-all duration-300","aria-hidden":"true"}),(0,t.jsx)("div",{className:"absolute inset-0 -skew-x-12 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 group-hover:animate-shimmer transition-opacity duration-500","aria-hidden":"true"})]})});let P=((null==(a=E.user)||null==(e=a.name)?void 0:e.split(" ").map(e=>e[0]).join(""))||(null==(u=E.user)||null==(r=u.email)?void 0:r[0])||"מ").toUpperCase();return(0,t.jsxs)(t.Fragment,{children:[q.error&&(0,t.jsx)("div",{className:"fixed top-4 end-4 z-50",children:(0,t.jsx)(l.Fc,{variant:"destructive",className:"w-80",role:"alert","aria-live":"assertive",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0","aria-hidden":"true"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(l.TN,{children:q.error}),q.canRetry&&(0,t.jsxs)(o.$,{variant:"outline",size:"sm",onClick:I,className:"h-7 px-2 text-xs","aria-label":"נסו שוב להתנתק",children:[(0,t.jsx)(g.A,{className:"h-3 w-3 me-1","aria-hidden":"true"}),"נסו שוב"]})]})]})})}),(0,t.jsxs)(c.rI,{children:[(0,t.jsx)(c.ty,{asChild:!0,children:(0,t.jsxs)(o.$,{variant:"ghost",className:(0,w.cn)("relative h-10 w-10 rounded-full p-0 hover:bg-primary/10 group transition-all duration-200",(q.isLoading||F)&&"opacity-75"),disabled:q.isLoading||F,"aria-label":"תפריט משתמש - פתח אפשרויות חשבון","aria-expanded":"false","aria-haspopup":"menu",children:[(0,t.jsxs)(n.eu,{className:"h-9 w-9 transition-all group-hover:scale-105",children:[(0,t.jsx)(n.BK,{src:(null==(k=E.user)?void 0:k.image)||"",alt:(null==(L=E.user)?void 0:L.name)||"משתמש",referrerPolicy:"no-referrer"}),(0,t.jsx)(n.q5,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold",children:P})]}),(q.isLoading||F)&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-background/50 rounded-full flex items-center justify-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 animate-spin text-primary","aria-hidden":"true"}),(0,t.jsx)("span",{className:"sr-only",children:"טוען פעולה..."})]}),(0,t.jsx)("div",{className:(0,w.cn)("absolute bottom-0 end-0 h-3 w-3 bg-green-500 rounded-full border-2 border-background transition-opacity duration-200",(q.isLoading||F)&&"opacity-50"),"aria-label":"מחובר"})]})}),(0,t.jsxs)(c.SQ,{align:"end",className:"w-64 p-2",role:"menu",children:[(0,t.jsx)(c.lp,{className:"font-normal p-3 bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg mb-2",role:"banner",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(n.eu,{className:"h-12 w-12",children:[(0,t.jsx)(n.BK,{src:(null==(_=E.user)?void 0:_.image)||"",alt:(null==(z=E.user)?void 0:z.name)||"משתמש",referrerPolicy:"no-referrer"}),(0,t.jsx)(n.q5,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold text-lg",children:P})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold leading-none",children:(null==(C=E.user)?void 0:C.name)||"משתמש"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",dir:"ltr",children:null==(A=E.user)?void 0:A.email}),(0,t.jsxs)(N.E,{variant:"secondary",className:"text-xs px-2 py-0",role:"status","aria-label":"סטטוס חשבון: משתמש פרו",children:[(0,t.jsx)(f.A,{className:"me-1 h-3 w-3","aria-hidden":"true"}),"משתמש פרו"]})]})]})}),(0,t.jsx)(c.mB,{className:"my-2"}),(0,t.jsx)(c._2,{asChild:!0,className:(0,w.cn)("cursor-pointer p-3 hover:bg-primary/5 transition-colors duration-200",(q.isLoading||F)&&"opacity-50 pointer-events-none"),role:"menuitem",children:(0,t.jsxs)(m(),{href:"/profile",className:"flex items-center gap-3","aria-label":"עבור לדף הפרופיל האישי",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),(0,t.jsx)("span",{children:"הפרופיל שלי"})]})}),(0,t.jsx)(c._2,{asChild:!0,className:(0,w.cn)("cursor-pointer p-3 hover:bg-primary/5 transition-colors duration-200",(q.isLoading||F)&&"opacity-50 pointer-events-none"),role:"menuitem",children:(0,t.jsxs)(m(),{href:"/settings",className:"flex items-center gap-3","aria-label":"עבור לדף הגדרות החשבון",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),(0,t.jsx)("span",{children:"הגדרות"})]})}),(0,t.jsx)(c._2,{asChild:!0,className:(0,w.cn)("cursor-pointer p-3 hover:bg-primary/5 transition-colors duration-200",(q.isLoading||F)&&"opacity-50 pointer-events-none"),role:"menuitem",children:(0,t.jsxs)(m(),{href:"/help",className:"flex items-center gap-3","aria-label":"עבור לדף עזרה ותמיכה",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 text-primary","aria-hidden":"true"}),(0,t.jsx)("span",{children:"עזרה ותמיכה"})]})}),(0,t.jsx)(c.mB,{className:"my-2"}),(0,t.jsx)(c._2,{onClick:$,disabled:q.isLoading||F,className:(0,w.cn)("cursor-pointer p-3 text-red-600 hover:bg-red-50 hover:text-red-700 focus:bg-red-50 focus:text-red-700 transition-colors duration-200 relative",(q.isLoading||F)&&"opacity-75"),role:"menuitem","aria-label":"התנתקות מהחשבון","aria-describedby":q.isLoading||F?"signout-status":void 0,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"relative",children:q.isLoading||F?(0,t.jsx)(h.A,{className:"h-4 w-4 animate-spin","aria-hidden":"true"}):(0,t.jsx)(j.A,{className:"h-4 w-4","aria-hidden":"true"})}),(0,t.jsx)("span",{children:q.isLoading||F?"מתנתק...":"התנתקות"}),(q.isLoading||F)&&(0,t.jsx)("span",{id:"signout-status",className:"sr-only",children:"מבצע התנתקות..."})]})})]}),(0,t.jsxs)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:[(q.isLoading||F)&&"מתנתק...",q.error&&"שגיאה בהתנתקות: ".concat(q.error)]})]})]})})},2985:(e,a,r)=>{r.d(a,{$:()=>d});var t=r(1240);r(7332);var s=r(7570),i=r(3443),n=r(7270);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:r,size:i,asChild:d=!1,...l}=e,c=d?s.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:r,size:i,className:a})),...l})}},6274:(e,a,r)=>{r.d(a,{E:()=>o});var t=r(1240);r(7332);var s=r(3443),i=r(7270);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:r,...s}=e;return(0,t.jsx)("div",{className:(0,i.cn)(n({variant:r}),a),...s})}},7270:(e,a,r)=>{r.d(a,{cn:()=>i});var t=r(2267),s=r(5695);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,s.QP)((0,t.$)(a))}},7334:(e,a,r)=>{r.d(a,{BK:()=>o,eu:()=>n,q5:()=>d});var t=r(1240);r(7332);var s=r(2832),i=r(7270);function n(e){let{className:a,...r}=e;return(0,t.jsx)(s.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...r})}function o(e){let{className:a,...r}=e;return(0,t.jsx)(s._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",a),...r})}function d(e){let{className:a,...r}=e;return(0,t.jsx)(s.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...r})}},7369:(e,a,r)=>{r.d(a,{Fc:()=>o,TN:()=>d});var t=r(1240);r(7332);var s=r(3443),i=r(7270);let n=(0,s.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function o(e){let{className:a,variant:r,...s}=e;return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(n({variant:r}),a),...s})}function d(e){let{className:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",a),...r})}},7629:(e,a,r)=>{r.d(a,{CI:()=>s,Hh:()=>i,Jv:()=>t,wV:()=>n});let{signIn:t,signOut:s,signUp:i,useSession:n,getSession:o}=(0,r(3407).MB)({baseURL:"http://localhost:3000"})},8842:(e,a,r)=>{r.d(a,{SQ:()=>d,_2:()=>l,lp:()=>c,mB:()=>u,rI:()=>n,ty:()=>o});var t=r(1240);r(7332);var s=r(7082),i=r(7270);function n(e){let{...a}=e;return(0,t.jsx)(s.bL,{"data-slot":"dropdown-menu",...a})}function o(e){let{...a}=e;return(0,t.jsx)(s.l9,{"data-slot":"dropdown-menu-trigger",...a})}function d(e){let{className:a,sideOffset:r=4,...n}=e;return(0,t.jsx)(s.ZL,{children:(0,t.jsx)(s.UC,{"data-slot":"dropdown-menu-content",sideOffset:r,className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...n})})}function l(e){let{className:a,inset:r,variant:n="default",...o}=e;return(0,t.jsx)(s.q7,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...o})}function c(e){let{className:a,inset:r,...n}=e;return(0,t.jsx)(s.JU,{"data-slot":"dropdown-menu-label","data-inset":r,className:(0,i.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",a),...n})}function u(e){let{className:a,...r}=e;return(0,t.jsx)(s.wv,{"data-slot":"dropdown-menu-separator",className:(0,i.cn)("bg-border -mx-1 my-1 h-px",a),...r})}}}]);