(globalThis.TURBOPACK = globalThis.TURBOPACK || []).push(["chunks/[root-of-the-server]__3cf3bcb0._.js", {

"[externals]/node:buffer [external] (node:buffer, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:buffer", () => require("node:buffer"));

module.exports = mod;
}}),
"[externals]/node:async_hooks [external] (node:async_hooks, cjs)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("node:async_hooks", () => require("node:async_hooks"));

module.exports = mod;
}}),
"[project]/ [middleware-edge] (unsupported edge import os, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`os`));
}}),
"[project]/ [middleware-edge] (unsupported edge import fs, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`fs`));
}}),
"[project]/ [middleware-edge] (unsupported edge import net, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`net`));
}}),
"[project]/ [middleware-edge] (unsupported edge import tls, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`tls`));
}}),
"[project]/ [middleware-edge] (unsupported edge import crypto, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`crypto`));
}}),
"[project]/ [middleware-edge] (unsupported edge import stream, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`stream`));
}}),
"[project]/ [middleware-edge] (unsupported edge import perf_hooks, ecmascript)": ((__turbopack_context__) => {

var { m: module, e: exports } = __turbopack_context__;
{
__turbopack_context__.n(__import_unsupported(`perf_hooks`));
}}),
"[project]/apps/www/src/lib/schema.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "account": ()=>account,
    "session": ()=>session,
    "user": ()=>user,
    "verification": ()=>verification
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.4_@opentelemetry+api@1.9.0_@types+pg@8.15.5_@upstash+redis@1.35.3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f/node_modules/drizzle-orm/pg-core/table.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.4_@opentelemetry+api@1.9.0_@types+pg@8.15.5_@upstash+redis@1.35.3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f/node_modules/drizzle-orm/pg-core/columns/text.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.4_@opentelemetry+api@1.9.0_@types+pg@8.15.5_@upstash+redis@1.35.3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f/node_modules/drizzle-orm/pg-core/columns/timestamp.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.4_@opentelemetry+api@1.9.0_@types+pg@8.15.5_@upstash+redis@1.35.3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f/node_modules/drizzle-orm/pg-core/columns/boolean.js [middleware-edge] (ecmascript)");
;
const user = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["pgTable"])("user", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("id").primaryKey(),
    name: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("name").notNull(),
    email: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("email").notNull().unique(),
    emailVerified: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$boolean$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["boolean"])("emailVerified"),
    image: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("image"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").notNull().defaultNow()
});
const session = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["pgTable"])("session", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("id").primaryKey(),
    expiresAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("expiresAt").notNull(),
    token: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("token").notNull().unique(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").notNull().defaultNow(),
    ipAddress: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("ipAddress"),
    userAgent: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("userAgent"),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("userId").notNull().references(()=>user.id, {
        onDelete: "cascade"
    })
});
const account = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["pgTable"])("account", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("id").primaryKey(),
    accountId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("accountId").notNull(),
    providerId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("providerId").notNull(),
    userId: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("userId").notNull().references(()=>user.id, {
        onDelete: "cascade"
    }),
    accessToken: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("accessToken"),
    refreshToken: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("refreshToken"),
    idToken: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("idToken"),
    accessTokenExpiresAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("accessTokenExpiresAt"),
    refreshTokenExpiresAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("refreshTokenExpiresAt"),
    scope: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("scope"),
    password: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("password"),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").notNull().defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").notNull().defaultNow()
});
const verification = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$table$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["pgTable"])("verification", {
    id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("id").primaryKey(),
    identifier: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("identifier").notNull(),
    value: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$text$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["text"])("value").notNull(),
    expiresAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("expiresAt").notNull(),
    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("createdAt").defaultNow(),
    updatedAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$pg$2d$core$2f$columns$2f$timestamp$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["timestamp"])("updatedAt").defaultNow()
});
}),
"[project]/packages/env/src/index.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "baseEnvSchema": ()=>baseEnvSchema,
    "clientEnv": ()=>clientEnv,
    "clientEnvSchema": ()=>clientEnvSchema,
    "getClientEnv": ()=>getClientEnv,
    "getServerEnv": ()=>getServerEnv,
    "serverEnv": ()=>serverEnv,
    "serverEnvSchema": ()=>serverEnvSchema,
    "validateClientEnv": ()=>validateClientEnv,
    "validateServerEnv": ()=>validateServerEnv
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zod@4.0.17/node_modules/zod/v4/classic/external.js [middleware-edge] (ecmascript) <export * as z>");
;
// Base environment schema with all possible variables
const baseEnvSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    // Application URLs
    NEXT_PUBLIC_APP_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url().optional(),
    NEXT_PUBLIC_WWW_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url().optional(),
    NEXT_PUBLIC_DASHBOARD_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url().optional(),
    // Database
    POSTGRES_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1, "Database URL is required"),
    DATABASE_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1).optional(),
    // Supabase
    NEXT_PUBLIC_SUPABASE_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url("Invalid Supabase URL"),
    NEXT_PUBLIC_SUPABASE_ANON_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1, "Supabase anon key is required"),
    NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1).optional(),
    SUPABASE_SERVICE_ROLE_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1, "Supabase service role key is required"),
    // Better Auth
    BETTER_AUTH_SECRET: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(32, "Better Auth secret must be at least 32 characters"),
    BETTER_AUTH_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url().optional(),
    NEXT_PUBLIC_BETTER_AUTH_URL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().url().optional(),
    // Google OAuth
    GOOGLE_CLIENT_ID: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1, "Google Client ID is required for authentication"),
    GOOGLE_CLIENT_SECRET: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1, "Google Client Secret is required for authentication"),
    // AI Services
    OPENAI_API_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1).optional(),
    OPENAI_MODEL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().default("gpt-4").optional(),
    GOOGLE_GENERATIVE_AI_API_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1).optional(),
    GEMINI_API_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().min(1).optional(),
    GEMINI_MODEL: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().default("gemini-2.5-flash").optional(),
    // Analytics (Optional)
    GOOGLE_ANALYTICS_ID: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    FACEBOOK_PIXEL_ID: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    // Email (Optional)
    RESEND_API_KEY: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    // Webhook Secrets (Optional)
    WEBHOOK_SECRET_N8N: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    WEBHOOK_SECRET_MAKE: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional(),
    WEBHOOK_SECRET_ZAPIER: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().optional()
});
// Server-side environment (has access to all variables)
const serverEnvSchema = baseEnvSchema;
// Client-side environment (only NEXT_PUBLIC_ variables)
const clientEnvSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({
    NEXT_PUBLIC_APP_URL: baseEnvSchema.shape.NEXT_PUBLIC_APP_URL,
    NEXT_PUBLIC_WWW_URL: baseEnvSchema.shape.NEXT_PUBLIC_WWW_URL,
    NEXT_PUBLIC_DASHBOARD_URL: baseEnvSchema.shape.NEXT_PUBLIC_DASHBOARD_URL,
    NEXT_PUBLIC_SUPABASE_URL: baseEnvSchema.shape.NEXT_PUBLIC_SUPABASE_URL,
    NEXT_PUBLIC_SUPABASE_ANON_KEY: baseEnvSchema.shape.NEXT_PUBLIC_SUPABASE_ANON_KEY,
    NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY: baseEnvSchema.shape.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY,
    NEXT_PUBLIC_BETTER_AUTH_URL: baseEnvSchema.shape.NEXT_PUBLIC_BETTER_AUTH_URL
});
// Environment validation functions
function validateServerEnv() {
    try {
        return serverEnvSchema.parse(process.env);
    } catch (error) {
        if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].ZodError) {
            const issues = error.issues.map((issue)=>`${issue.path.join('.')}: ${issue.message}`).join('\n');
            throw new Error(`Environment validation failed:\n${issues}\n\n` + `Please check your .env.local file in the root directory.`);
        }
        throw error;
    }
}
function validateClientEnv() {
    const clientEnvVars = Object.keys(clientEnvSchema.shape).reduce((acc, key)=>{
        acc[key] = process.env[key];
        return acc;
    }, {});
    try {
        return clientEnvSchema.parse(clientEnvVars);
    } catch (error) {
        if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].ZodError) {
            const issues = error.issues.map((issue)=>`${issue.path.join('.')}: ${issue.message}`).join('\n');
            throw new Error(`Client environment validation failed:\n${issues}\n\n` + `Please check your NEXT_PUBLIC_ variables in .env.local`);
        }
        throw error;
    }
}
// Create validated environment objects (lazy-loaded to avoid import-time errors)
let serverEnv;
let clientEnv;
const getServerEnv = ()=>{
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    if (!serverEnv) {
        // Lazy initialization on first access
        try {
            serverEnv = validateServerEnv();
        } catch (error) {
            console.error('❌ Server environment validation failed:', error);
            throw error;
        }
    }
    return serverEnv;
};
const getClientEnv = ()=>{
    if (!clientEnv) {
        // Lazy initialization on first access
        try {
            if ("TURBOPACK compile-time truthy", 1) {
                // Server-side: create client env from server env
                const clientEnvVars = Object.keys(clientEnvSchema.shape).reduce((acc, key)=>{
                    acc[key] = process.env[key];
                    return acc;
                }, {});
                clientEnv = clientEnvSchema.parse(clientEnvVars);
            } else //TURBOPACK unreachable
            ;
        } catch (error) {
            console.error('❌ Client environment validation failed:', error);
            throw error;
        }
    }
    return clientEnv;
};
;
;
;
}),
"[project]/apps/www/src/lib/db.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "db": ()=>db,
    "postgresClient": ()=>client
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$postgres$2d$js$2f$driver$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/drizzle-orm@0.44.4_@opentelemetry+api@1.9.0_@types+pg@8.15.5_@upstash+redis@1.35.3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f/node_modules/drizzle-orm/postgres-js/driver.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$postgres$40$3$2e$4$2e$7$2f$node_modules$2f$postgres$2f$src$2f$index$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/postgres@3.4.7/node_modules/postgres/src/index.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$schema$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/schema.ts [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$env$2f$src$2f$index$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/env/src/index.ts [middleware-edge] (ecmascript)");
;
;
;
;
const serverEnv = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$env$2f$src$2f$index$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["getServerEnv"])();
// Optimized PostgreSQL client configuration for Vercel serverless environment
const client = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$postgres$40$3$2e$4$2e$7$2f$node_modules$2f$postgres$2f$src$2f$index$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["default"])(serverEnv.POSTGRES_URL, {
    // SSL configuration for production
    ssl: ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : false,
    // Serverless-optimized connection pool settings
    max: 1,
    idle_timeout: 0,
    connect_timeout: 30,
    // Connection lifecycle for serverless
    max_lifetime: 0,
    prepare: false,
    // Transform configuration for production environments
    transform: ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : undefined,
    // Error handling and debugging
    onnotice: ("TURBOPACK compile-time truthy", 1) ? console.log : "TURBOPACK unreachable",
    debug: ("TURBOPACK compile-time value", "development") === 'development',
    // Additional production settings
    connection: {
        application_name: 'afarsemon-app',
        // Enable keep-alive for production connections
        ...("TURBOPACK compile-time value", "development") === 'production' && {
            options: '--search_path=public'
        }
    }
});
const db = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$drizzle$2d$orm$40$0$2e$44$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$types$2b$pg$40$8$2e$15$2e$5_$40$upstash$2b$redis$40$1$2e$35$2e$3_kyse_fe72ec2fedcac09bf00de1e2989f8f6f$2f$node_modules$2f$drizzle$2d$orm$2f$postgres$2d$js$2f$driver$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["drizzle"])(client, {
    schema: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$schema$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__
});
;
}),
"[project]/apps/www/src/lib/production-env.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

/**
 * Production Environment Variable Override
 * 
 * This module ensures that production environment variables take precedence
 * over development variables, especially when dealing with localhost URLs
 * that might be loaded from symlinked .env.local files.
 */ // Production URL mappings - these should always be used in production
__turbopack_context__.s({
    "getProductionEnvVars": ()=>getProductionEnvVars,
    "getProductionSafeUrl": ()=>getProductionSafeUrl,
    "resolveProductionBaseURL": ()=>resolveProductionBaseURL
});
const PRODUCTION_URL_OVERRIDES = {
    'http://localhost:3000': 'https://afarsemon.com',
    'localhost:3000': 'https://afarsemon.com',
    'localhost': 'https://afarsemon.com'
};
function getProductionSafeUrl(envVar, fallback) {
    if (!envVar) {
        return fallback;
    }
    // In production, replace any localhost URLs with production URLs
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    return envVar;
}
function getProductionEnvVars() {
    const isProduction = ("TURBOPACK compile-time value", "development") === 'production';
    // Force production URLs when in production environment
    const betterAuthUrl = ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : process.env.BETTER_AUTH_URL || 'http://localhost:3000';
    const publicBetterAuthUrl = ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : ("TURBOPACK compile-time value", "http://localhost:3002") || 'http://localhost:3000';
    const publicAppUrl = ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : ("TURBOPACK compile-time value", "http://localhost:3002") || 'http://localhost:3000';
    return {
        BETTER_AUTH_URL: betterAuthUrl,
        NEXT_PUBLIC_BETTER_AUTH_URL: publicBetterAuthUrl,
        NEXT_PUBLIC_APP_URL: publicAppUrl,
        isProduction,
        originalVars: {
            BETTER_AUTH_URL: process.env.BETTER_AUTH_URL,
            NEXT_PUBLIC_BETTER_AUTH_URL: ("TURBOPACK compile-time value", "http://localhost:3002"),
            NEXT_PUBLIC_APP_URL: ("TURBOPACK compile-time value", "http://localhost:3002")
        }
    };
}
function resolveProductionBaseURL() {
    const prodVars = getProductionEnvVars();
    if (prodVars.isProduction) {
        // In production, prioritize production URLs
        return prodVars.BETTER_AUTH_URL || prodVars.NEXT_PUBLIC_BETTER_AUTH_URL || prodVars.NEXT_PUBLIC_APP_URL || 'https://afarsemon.com';
    }
    // In development, allow localhost
    return prodVars.BETTER_AUTH_URL || prodVars.NEXT_PUBLIC_BETTER_AUTH_URL || prodVars.NEXT_PUBLIC_APP_URL || 'http://localhost:3000';
}
}),
"[project]/apps/www/src/lib/auth.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "auth": ()=>auth
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$index$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/better-auth@1.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/better-auth/dist/index.mjs [middleware-edge] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$shared$2f$better$2d$auth$2e$Cbhy6WDJ$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__b__as__betterAuth$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/better-auth@1.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/better-auth/dist/shared/better-auth.Cbhy6WDJ.mjs [middleware-edge] (ecmascript) <export b as betterAuth>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$adapters$2f$drizzle$2d$adapter$2f$index$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/better-auth@1.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/better-auth/dist/adapters/drizzle-adapter/index.mjs [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$integrations$2f$next$2d$js$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/better-auth@1.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/better-auth/dist/integrations/next-js.mjs [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$db$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/db.ts [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$schema$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/schema.ts [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$env$2f$src$2f$index$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/env/src/index.ts [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$production$2d$env$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/production-env.ts [middleware-edge] (ecmascript)");
;
;
;
;
;
;
;
const serverEnv = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$env$2f$src$2f$index$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["getServerEnv"])();
const prodVars = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$production$2d$env$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["getProductionEnvVars"])();
// Use production-aware URL resolution
const resolvedBaseURL = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$production$2d$env$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["resolveProductionBaseURL"])();
// Add debug logging for configuration
console.log('[Auth Config] Initializing Better Auth with:', {
    baseURL: resolvedBaseURL,
    hasGoogleClientId: !!serverEnv.GOOGLE_CLIENT_ID,
    hasGoogleClientSecret: !!serverEnv.GOOGLE_CLIENT_SECRET,
    hasBetterAuthSecret: !!serverEnv.BETTER_AUTH_SECRET,
    hasPostgresUrl: !!serverEnv.POSTGRES_URL,
    environment: ("TURBOPACK compile-time value", "development"),
    // Show both original and production-safe URLs
    originalUrls: {
        betterAuthUrl: serverEnv.BETTER_AUTH_URL,
        publicBetterAuthUrl: serverEnv.NEXT_PUBLIC_BETTER_AUTH_URL,
        publicAppUrl: serverEnv.NEXT_PUBLIC_APP_URL
    },
    productionSafeUrls: {
        betterAuthUrl: prodVars.BETTER_AUTH_URL,
        publicBetterAuthUrl: prodVars.NEXT_PUBLIC_BETTER_AUTH_URL,
        publicAppUrl: prodVars.NEXT_PUBLIC_APP_URL
    },
    isProduction: prodVars.isProduction,
    // Additional debugging
    vercelEnv: process.env.VERCEL_ENV,
    vercelUrl: process.env.VERCEL_URL
});
// Warn if production is using localhost URLs
if (("TURBOPACK compile-time value", "development") === 'production' && resolvedBaseURL.includes('localhost')) //TURBOPACK unreachable
;
const auth = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$shared$2f$better$2d$auth$2e$Cbhy6WDJ$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__b__as__betterAuth$3e$__["betterAuth"])({
    database: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$adapters$2f$drizzle$2d$adapter$2f$index$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["drizzleAdapter"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$db$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["db"], {
        provider: "pg",
        schema: {
            ...__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$schema$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__
        }
    }),
    baseURL: resolvedBaseURL,
    secret: serverEnv.BETTER_AUTH_SECRET,
    socialProviders: {
        google: {
            clientId: serverEnv.GOOGLE_CLIENT_ID,
            clientSecret: serverEnv.GOOGLE_CLIENT_SECRET
        }
    },
    emailAndPassword: {
        enabled: true,
        requireEmailVerification: false,
        minPasswordLength: 6,
        maxPasswordLength: 128,
        autoSignIn: true,
        sendResetPassword: async ({ user, url })=>{
            // TODO: Implement email sending for password reset
            console.log(`Password reset requested for ${user.email}. Reset URL: ${url}`);
        // In production, replace with actual email service
        },
        resetPasswordTokenExpiresIn: 3600
    },
    emailVerification: {
        sendVerificationEmail: async ({ user, url })=>{
            // TODO: Implement email sending for verification
            console.log(`Email verification requested for ${user.email}. Verification URL: ${url}`);
        // In production, replace with actual email service like Resend, SendGrid, etc.
        },
        sendOnSignUp: true,
        autoSignInAfterVerification: true,
        expiresIn: 3600
    },
    advanced: {
        // Security configurations
        useSecureCookies: ("TURBOPACK compile-time value", "development") === "production",
        disableCSRFCheck: false,
        cookiePrefix: ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : "",
        defaultCookieAttributes: {
            httpOnly: true,
            secure: ("TURBOPACK compile-time value", "development") === "production",
            sameSite: "lax"
        },
        // IP tracking for security
        ipAddress: {
            disableIpTracking: false
        }
    },
    session: {
        expiresIn: 60 * 60 * 24 * 7,
        updateAge: 60 * 60 * 24,
        cookieCache: {
            enabled: true,
            maxAge: 60 * 5 // Cache for 5 minutes
        }
    },
    trustedOrigins: [
        resolvedBaseURL,
        prodVars.NEXT_PUBLIC_APP_URL,
        prodVars.BETTER_AUTH_URL,
        prodVars.NEXT_PUBLIC_BETTER_AUTH_URL,
        "https://afarsemon.com",
        ...prodVars.isProduction ? [] : [
            "http://localhost:3000"
        ]
    ].filter((url)=>Boolean(url)).filter((url, index, self)=>self.indexOf(url) === index),
    plugins: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$better$2d$auth$40$1$2e$3$2e$4_react$2d$dom$40$19$2e$1$2e$0_react$40$19$2e$1$2e$0_$5f$react$40$19$2e$1$2e$0$2f$node_modules$2f$better$2d$auth$2f$dist$2f$integrations$2f$next$2d$js$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["nextCookies"])()
    ]
});
}),
"[project]/apps/www/src/lib/rate-limit.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "clearRateLimitCache": ()=>clearRateLimitCache,
    "createRateLimitResponse": ()=>createRateLimitResponse,
    "createRateLimiter": ()=>createRateLimiter,
    "getClientIP": ()=>getClientIP,
    "rateLimiters": ()=>rateLimiters
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$ratelimit$40$2$2e$0$2e$6_$40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$ratelimit$2f$dist$2f$index$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@upstash+ratelimit@2.0.6_@upstash+redis@1.35.3/node_modules/@upstash/ratelimit/dist/index.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$redis$2f$nodejs$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@upstash+redis@1.35.3/node_modules/@upstash/redis/nodejs.mjs [middleware-edge] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$redis$2f$nodejs$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@upstash+redis@1.35.3/node_modules/@upstash/redis/nodejs.mjs [middleware-edge] (ecmascript) <locals>");
;
;
// In-memory store for development fallback
const memoryStore = new Map();
// Create a mock Redis interface for development
class MockRedis {
    store = memoryStore;
    async evalsha(_sha, _keys, _args) {
        // In development mode, be more lenient with rate limiting
        if ("TURBOPACK compile-time truthy", 1) {
            // Simple in-memory rate limiting logic with shorter windows for development
            const key = _keys[0];
            const limit = _args[0];
            const window = Math.min(_args[1], 10000); // Max 10 seconds in development
            const now = Date.now();
            const entry = this.store.get(key);
            if (!entry || now > entry.resetTime) {
                // Reset window
                this.store.set(key, {
                    count: 1,
                    resetTime: now + window
                });
                return [
                    1,
                    window
                ];
            }
            if (entry.count >= limit) {
                // Rate limit exceeded
                return [
                    0,
                    entry.resetTime - now
                ];
            }
            // Increment counter
            entry.count++;
            this.store.set(key, entry);
            return [
                1,
                entry.resetTime - now
            ];
        }
        //TURBOPACK unreachable
        ;
        // Production logic (normal rate limiting)
        const key = undefined;
        const limit = undefined;
        const window = undefined;
        const now = undefined;
        const entry = undefined;
    }
    // Add other required methods that Upstash Ratelimit might use
    async get() {
        return null;
    }
    async set() {
        return 'OK';
    }
    async expire() {
        return 1;
    }
}
// Create Redis instance for rate limiting
// In production, this should use Upstash Redis credentials
// In development, it can use a mock or local redis
const hasRedisConfig = !!(process.env.UPSTASH_REDIS_REST_URL && process.env.UPSTASH_REDIS_REST_TOKEN);
const redis = hasRedisConfig ? new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$redis$2f$nodejs$2e$mjs__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Redis"]({
    url: process.env.UPSTASH_REDIS_REST_URL,
    token: process.env.UPSTASH_REDIS_REST_TOKEN
}) : (()=>{
    if ("TURBOPACK compile-time truthy", 1) {
        console.warn('[Rate Limit] Using in-memory fallback (development mode)');
    } else //TURBOPACK unreachable
    ;
    return new MockRedis();
})();
const createRateLimiter = (requests, window, prefix = 'rl')=>{
    return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$ratelimit$40$2$2e$0$2e$6_$40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$ratelimit$2f$dist$2f$index$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["Ratelimit"]({
        redis,
        limiter: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$upstash$2b$ratelimit$40$2$2e$0$2e$6_$40$upstash$2b$redis$40$1$2e$35$2e$3$2f$node_modules$2f40$upstash$2f$ratelimit$2f$dist$2f$index$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["Ratelimit"].slidingWindow(requests, window),
        prefix
    });
};
const rateLimiters = {
    // Webhooks: 10 requests per minute
    webhook: createRateLimiter(10, '1 m', 'rl:webhook'),
    // Chat: 20 requests per minute
    chat: createRateLimiter(20, '1 m', 'rl:chat'),
    // Auth: 5 requests per minute (stricter for security)
    auth: createRateLimiter(5, '1 m', 'rl:auth'),
    // Debug: 3 requests per minute (very restrictive)
    debug: createRateLimiter(3, '1 m', 'rl:debug'),
    // General API: 50 requests per minute
    general: createRateLimiter(50, '1 m', 'rl:general'),
    // Strict rate limit for sensitive operations: 2 requests per minute
    strict: createRateLimiter(2, '1 m', 'rl:strict')
};
function getClientIP(request) {
    const forwarded = request.headers.get('x-forwarded-for');
    const real = request.headers.get('x-real-ip');
    const cloudflare = request.headers.get('cf-connecting-ip');
    if (cloudflare) return cloudflare;
    if (real) return real;
    if (forwarded) return forwarded.split(',')[0].trim();
    return 'unknown';
}
function clearRateLimitCache() {
    if ("TURBOPACK compile-time truthy", 1) {
        memoryStore.clear();
        console.log('[Rate Limit] Development cache cleared');
    }
}
function createRateLimitResponse(success, limit, remaining, reset) {
    if (success) {
        return {
            success: true,
            headers: {
                'X-RateLimit-Limit': limit.toString(),
                'X-RateLimit-Remaining': remaining.toString(),
                'X-RateLimit-Reset': reset.getTime().toString()
            }
        };
    }
    return {
        success: false,
        error: 'Rate limit exceeded',
        status: 429,
        headers: {
            'X-RateLimit-Limit': limit.toString(),
            'X-RateLimit-Remaining': '0',
            'X-RateLimit-Reset': reset.getTime().toString(),
            'Retry-After': Math.ceil((reset.getTime() - Date.now()) / 1000).toString()
        }
    };
}
}),
"[project]/apps/www/src/lib/security.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "MAX_PAYLOAD_SIZES": ()=>MAX_PAYLOAD_SIZES,
    "SECURITY_HEADERS": ()=>SECURITY_HEADERS,
    "applyRateLimit": ()=>applyRateLimit,
    "castUser": ()=>castUser,
    "createErrorResponse": ()=>createErrorResponse,
    "createSecureResponse": ()=>createSecureResponse,
    "jsonPayloadSchema": ()=>jsonPayloadSchema,
    "requireAdmin": ()=>requireAdmin,
    "requireAuth": ()=>requireAuth,
    "requireDevelopment": ()=>requireDevelopment,
    "sanitizeObject": ()=>sanitizeObject,
    "sanitizeString": ()=>sanitizeString,
    "validateCSRF": ()=>validateCSRF,
    "validatePayloadSize": ()=>validatePayloadSize,
    "validateRequest": ()=>validateRequest,
    "webhookPathSchema": ()=>webhookPathSchema
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$api$2f$server$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/api/server.js [middleware-edge] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/server/web/spec-extension/response.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$auth$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/auth.ts [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$api$2f$headers$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/api/headers.js [middleware-edge] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$headers$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/server/request/headers.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zod@4.0.17/node_modules/zod/v4/classic/external.js [middleware-edge] (ecmascript) <export * as z>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$rate$2d$limit$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/rate-limit.ts [middleware-edge] (ecmascript)");
;
;
;
;
;
const MAX_PAYLOAD_SIZES = {
    JSON: 1024 * 1024,
    TEXT: 100 * 1024,
    FORM: 10 * 1024
};
const SECURITY_HEADERS = {
    // Content Security Policy
    'Content-Security-Policy': `
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://vercel.live;
    style-src 'self' 'unsafe-inline';
    img-src 'self' data: https:;
    font-src 'self' data:;
    connect-src 'self' https: wss:;
    frame-ancestors 'none';
  `.replace(/\s+/g, ' ').trim(),
    // Prevent XSS attacks
    'X-XSS-Protection': '1; mode=block',
    // Prevent MIME type sniffing
    'X-Content-Type-Options': 'nosniff',
    // Prevent clickjacking
    'X-Frame-Options': 'DENY',
    // Enforce HTTPS
    'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',
    // Remove server information
    'Server': 'Next.js',
    // Prevent referrer leakage
    'Referrer-Policy': 'strict-origin-when-cross-origin'
};
const webhookPathSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].string().regex(/^[a-zA-Z0-9-_]+$/, 'Webhook path must contain only alphanumeric characters, hyphens, and underscores');
const jsonPayloadSchema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zod$40$4$2e$0$2e$17$2f$node_modules$2f$zod$2f$v4$2f$classic$2f$external$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$export__$2a$__as__z$3e$__["z"].object({}).passthrough().refine((data)=>JSON.stringify(data).length <= MAX_PAYLOAD_SIZES.JSON, {
    message: `Payload size must not exceed ${MAX_PAYLOAD_SIZES.JSON} bytes`
});
function sanitizeString(input) {
    return input.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '') // Remove script tags
    .replace(/javascript:/gi, '') // Remove javascript: urls
    .replace(/on\w+="[^"]*"/gi, '') // Remove event handlers
    .trim();
}
function sanitizeObject(obj) {
    if (typeof obj === 'string') {
        return sanitizeString(obj);
    }
    if (Array.isArray(obj)) {
        return obj.map(sanitizeObject);
    }
    if (obj && typeof obj === 'object') {
        const sanitized = {};
        for (const [key, value] of Object.entries(obj)){
            sanitized[sanitizeString(key)] = sanitizeObject(value);
        }
        return sanitized;
    }
    return obj;
}
function castUser(user) {
    return user;
}
async function requireAuth(_request) {
    try {
        const requestHeaders = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$request$2f$headers$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["headers"])();
        const session = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$auth$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["auth"].api.getSession({
            headers: requestHeaders
        });
        if (!session?.user) {
            return {
                success: false,
                error: 'Authentication required'
            };
        }
        return {
            success: true,
            user: session.user
        };
    } catch (_error) {
        return {
            success: false,
            error: 'Authentication failed'
        };
    }
}
async function requireAdmin(_request) {
    const authResult = await requireAuth(_request);
    if (!authResult.success) {
        return authResult;
    }
    // Check if user has admin role (you may need to adjust this based on your user schema)
    const user = authResult.user;
    const isAdmin = user?.role === 'admin' || user?.email === process.env.ADMIN_EMAIL;
    if (!isAdmin) {
        return {
            success: false,
            error: 'Admin access required'
        };
    }
    return authResult;
}
function requireDevelopment() {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    return {
        success: true
    };
}
function validateCSRF(request) {
    const origin = request.headers.get('origin');
    const referer = request.headers.get('referer');
    const host = request.headers.get('host');
    // Allow same-origin requests
    if (origin) {
        const originHost = new URL(origin).host;
        if (originHost === host) {
            return {
                success: true
            };
        }
    }
    // Allow referer-based validation
    if (referer) {
        const refererHost = new URL(referer).host;
        if (refererHost === host) {
            return {
                success: true
            };
        }
    }
    // In development, allow localhost requests
    if (("TURBOPACK compile-time value", "development") === 'development' && host?.includes('localhost')) {
        return {
            success: true
        };
    }
    // Check for CSRF token header (you can implement token-based CSRF later)
    const csrfToken = request.headers.get('x-csrf-token');
    if (csrfToken === 'development' && ("TURBOPACK compile-time value", "development") === 'development') {
        return {
            success: true
        };
    }
    return {
        success: false,
        error: 'CSRF validation failed'
    };
}
async function validatePayloadSize(request, maxSize = MAX_PAYLOAD_SIZES.JSON) {
    try {
        const contentLength = request.headers.get('content-length');
        if (contentLength && parseInt(contentLength) > maxSize) {
            return {
                success: false,
                error: `Payload too large. Maximum size is ${maxSize} bytes`
            };
        }
        const text = await request.text();
        if (text.length > maxSize) {
            return {
                success: false,
                error: `Payload too large. Maximum size is ${maxSize} bytes`
            };
        }
        // Try to parse as JSON if content-type suggests it
        const contentType = request.headers.get('content-type');
        if (contentType?.includes('application/json')) {
            try {
                const data = JSON.parse(text);
                const sanitizedData = sanitizeObject(data);
                return {
                    success: true,
                    data: sanitizedData
                };
            } catch (_error) {
                return {
                    success: false,
                    error: 'Invalid JSON payload'
                };
            }
        }
        return {
            success: true,
            data: sanitizeString(text)
        };
    } catch (_error) {
        return {
            success: false,
            error: 'Failed to read request payload'
        };
    }
}
async function applyRateLimit(request, limiterType) {
    try {
        const clientIP = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$rate$2d$limit$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["getClientIP"])(request);
        const identifier = `${clientIP}:${limiterType}`;
        const limiter = __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$rate$2d$limit$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["rateLimiters"][limiterType];
        const result = await limiter.limit(identifier);
        const rateLimitResponse = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$rate$2d$limit$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["createRateLimitResponse"])(result.success, result.limit, result.remaining, new Date(result.reset));
        if (!rateLimitResponse.success) {
            return {
                success: false,
                response: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["NextResponse"].json({
                    error: rateLimitResponse.error
                }, {
                    status: rateLimitResponse.status,
                    headers: rateLimitResponse.headers
                })
            };
        }
        return {
            success: true
        };
    } catch (error) {
        // Log the error but don't block the request in development
        console.warn('Rate limiting failed:', error);
        // In development, allow the request to proceed with a warning
        if ("TURBOPACK compile-time truthy", 1) {
            console.warn(`[Rate Limit] Fallback: Allowing request due to rate limiting error in development`);
            return {
                success: true
            };
        }
        //TURBOPACK unreachable
        ;
    }
}
function createSecureResponse(data, status = 200, additionalHeaders = {}) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["NextResponse"].json(data, {
        status,
        headers: {
            ...SECURITY_HEADERS,
            ...additionalHeaders
        }
    });
}
function createErrorResponse(message, status = 500, logError) {
    // Log the actual error for debugging but don't expose it
    if (logError) {
        console.error('API Error:', logError);
    }
    // Generic error messages for production
    const productionSafeMessage = ("TURBOPACK compile-time falsy", 0) ? "TURBOPACK unreachable" : message;
    return createSecureResponse({
        error: productionSafeMessage
    }, status);
}
async function validateRequest(request, options = {}) {
    // Method validation
    if (options.allowedMethods && !options.allowedMethods.includes(request.method)) {
        return {
            success: false,
            response: createErrorResponse('Method not allowed', 405)
        };
    }
    // Rate limiting
    if (options.rateLimitType) {
        const rateLimitResult = await applyRateLimit(request, options.rateLimitType);
        if (!rateLimitResult.success) {
            return {
                success: false,
                response: rateLimitResult.response
            };
        }
    }
    // CSRF validation for non-GET requests
    if (options.validateCSRF && request.method !== 'GET') {
        const csrfResult = validateCSRF(request);
        if (!csrfResult.success) {
            return {
                success: false,
                response: createErrorResponse(csrfResult.error || 'CSRF validation failed', 403)
            };
        }
    }
    // Authentication
    let user;
    if (options.requireAdmin) {
        const adminResult = await requireAdmin(request);
        if (!adminResult.success) {
            return {
                success: false,
                response: createErrorResponse(adminResult.error || 'Admin access required', 403)
            };
        }
        user = adminResult.user;
    } else if (options.requireAuth) {
        const authResult = await requireAuth(request);
        if (!authResult.success) {
            return {
                success: false,
                response: createErrorResponse(authResult.error || 'Authentication required', 401)
            };
        }
        user = authResult.user;
    }
    // Payload validation for non-GET requests
    let data;
    if (request.method !== 'GET' && request.method !== 'HEAD') {
        const payloadResult = await validatePayloadSize(request.clone(), options.maxPayloadSize);
        if (!payloadResult.success) {
            return {
                success: false,
                response: createErrorResponse(payloadResult.error || 'Invalid payload', 400)
            };
        }
        data = payloadResult.data;
    }
    return {
        success: true,
        data,
        user
    };
}
}),
"[project]/apps/www/src/middleware.ts [middleware-edge] (ecmascript)": ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s({
    "config": ()=>config,
    "middleware": ()=>middleware
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$api$2f$server$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/api/server.js [middleware-edge] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@15.4.6_@babel+core@7.28.3_@opentelemetry+api@1.9.0_@playwright+test@1.55.0_react-d_369d37965ae8cf0a48106bfbb0e6af64/node_modules/next/dist/esm/server/web/spec-extension/response.js [middleware-edge] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$security$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/www/src/lib/security.ts [middleware-edge] (ecmascript)");
;
;
function middleware(request) {
    const response = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["NextResponse"].next();
    // Add security headers to all responses
    Object.entries(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$www$2f$src$2f$lib$2f$security$2e$ts__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["SECURITY_HEADERS"]).forEach(([key, value])=>{
        response.headers.set(key, value);
    });
    // Block debug endpoints in production
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    // Add CORS headers for API routes
    if (request.nextUrl.pathname.startsWith('/api/')) {
        // Set CORS headers
        response.headers.set('Access-Control-Allow-Origin', ("TURBOPACK compile-time truthy", 1) ? '*' : "TURBOPACK unreachable");
        response.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');
        response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization, X-CSRF-Token');
        response.headers.set('Access-Control-Max-Age', '86400');
        // Handle preflight requests
        if (request.method === 'OPTIONS') {
            return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$4$2e$6_$40$babel$2b$core$40$7$2e$28$2e$3_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_$40$playwright$2b$test$40$1$2e$55$2e$0_react$2d$d_369d37965ae8cf0a48106bfbb0e6af64$2f$node_modules$2f$next$2f$dist$2f$esm$2f$server$2f$web$2f$spec$2d$extension$2f$response$2e$js__$5b$middleware$2d$edge$5d$__$28$ecmascript$29$__["NextResponse"](null, {
                status: 200,
                headers: response.headers
            });
        }
    }
    // Log production requests for monitoring
    if (("TURBOPACK compile-time value", "development") === 'production' && request.nextUrl.pathname.startsWith('/api/')) //TURBOPACK unreachable
    ;
    return response;
}
const config = {
    matcher: [
        // Run on all routes except static files
        '/((?!_next/static|_next/image|favicon.ico|.*\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)'
    ]
};
}),
}]);

//# sourceMappingURL=%5Broot-of-the-server%5D__3cf3bcb0._.js.map